<!-- ======= Apresenta√ß√£o curta ======= -->
<section id="apresentacao" class="card" style="margin-top:24px">
  <p style="font-size:1.05rem; line-height:1.7">
    <strong>Bem-vindo ao meu espa√ßo de Bioinform√°tica e Ci√™ncia de Dados!</strong>
    Aqui voc√™ encontra guias pr√°ticos, dicas e tutoriais sobre ferramentas como
    <strong>Kraken2, QIIME2, Biobakery</strong>, gerenciamento de ambientes
    (<strong>Anaconda, WSL</strong>) e muito mais ‚Äî sempre com foco em clareza e
    aplicabilidade para quem pesquisa ou estuda.
  </p>
</section>

<!-- ======= Destaques da Semana (em linhas) ======= -->
<section id="destaques" style="margin-top:28px">
  <h2 style="margin-bottom:14px">Destaques da Semana</h2>

  <div class="card" style="padding:0">
    <!-- Linha 1 -->
    <a href="/guias/ferramentas/kraken2.html"
       class="highlight-row"
       style="display:block;padding:14px 16px;border-bottom:1px solid var(--border);text-decoration:none">
      <div style="font-weight:600">üî¨ Kraken2</div>
      <div style="opacity:.8">Guia pr√°tico para classifica√ß√£o taxon√¥mica de metagenomas.</div>
    </a>

    <!-- Linha 2 -->
    <a href="/guias/ferramentas/qiime2.html"
       class="highlight-row"
       style="display:block;padding:14px 16px;border-bottom:1px solid var(--border);text-decoration:none">
      <div style="font-weight:600">üìä QIIME2</div>
      <div style="opacity:.8">Pipeline essencial para an√°lises em microbioma (16S/ITS).</div>
    </a>

    <!-- Linha 3 -->
    <a href="/guias/ambientes/anaconda.html"
       class="highlight-row"
       style="display:block;padding:14px 16px;text-decoration:none">
      <div style="font-weight:600">‚öôÔ∏è Anaconda &amp; WSL</div>
      <div style="opacity:.8">Ambientes reprodut√≠veis no Linux/WSL para bioinform√°tica.</div>
    </a>
  </div>
</section>

<!-- ======= Carrossel de Logos (placeholder, troque pelos seus arquivos depois) ======= -->
<section id="logos" style="margin-top:28px">
  <h2 style="margin-bottom:12px">Ferramentas</h2>

  <div class="carousel-wrap">
    <div class="logo-carousel" id="logoCarousel" aria-live="polite">
      <!-- Substitua por <img src="/assets/img/logos/kraken2.png" alt="Kraken2"> quando tiver os arquivos -->
      <div class="logo-pill">Kraken2</div>
      <div class="logo-pill">QIIME2</div>
      <div class="logo-pill">BioBakery</div>
      <div class="logo-pill">Anaconda</div>
      <div class="logo-pill">WSL</div>
      <div class="logo-pill">FASTP</div>
      <div class="logo-pill">FALCO</div>
    </div>

    <div class="carousel-controls" style="margin-top:10px;display:flex;gap:8px;">
      <button class="btn ghost" id="logoPrev" aria-label="Anterior">‚óÄ</button>
      <button class="btn ghost" id="logoNext" aria-label="Pr√≥ximo">‚ñ∂</button>
    </div>
  </div>
</section>

<style>
  /* refinamentos r√°pidos (usam suas vari√°veis do main.css) */
  .highlight-row:hover { background: rgba(148,163,184,.10); }
  .carousel-wrap { overflow: hidden; }
  .logo-carousel {
    display: flex; gap: 12px; overflow-x: auto; scroll-behavior: smooth; padding: 8px 2px;
  }
  .logo-carousel::-webkit-scrollbar { height: 8px; }
  .logo-carousel::-webkit-scrollbar-thumb { background: var(--border); border-radius: 8px; }
  .logo-pill {
    flex: 0 0 auto;
    padding: 10px 14px;
    border: 1px solid var(--border);
    border-radius: 999px;
    background: var(--card);
    box-shadow: var(--shadow);
    font-weight: 600;
    min-width: 120px;
    text-align: center;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function(){
    const strip = document.getElementById('logoCarousel');
    const prev  = document.getElementById('logoPrev');
    const next  = document.getElementById('logoNext');
    if (!strip || !prev || !next) return;

    // Duplica at√© existir overflow (com trava)
    function ensureScrollable() {
      const hasItem = !!strip.querySelector('.logo-pill, img, a.logo-pill');
      if (!hasItem) return;
      let guard = 0;
      while (strip.scrollWidth <= strip.clientWidth && guard < 6) {
        strip.innerHTML += strip.innerHTML;
        guard++;
      }
    }

    function cardWidth() {
      const el = strip.querySelector('.logo-pill, img, a.logo-pill');
      if (!el) return 150;
      return Math.ceil(el.getBoundingClientRect().width + 12); // 12 = gap
    }

    function atEnd() {
      return (strip.scrollLeft + strip.clientWidth) >= (strip.scrollWidth - 2);
    }

    function step(dir = +1) {
      if (dir > 0 && atEnd()) {
        strip.scrollTo({ left: 0, behavior: 'auto' }); // reset sem ‚Äúpulo‚Äù
      } else if (dir < 0 && strip.scrollLeft <= 0) {
        strip.scrollTo({ left: strip.scrollWidth, behavior: 'auto' });
      }
      const dx = cardWidth() * (dir > 0 ? 1 : -1);
      if (strip.scrollWidth > strip.clientWidth) {
        strip.scrollBy({ left: dx, behavior: 'smooth' });
      }
    }

    // Controles
    prev.addEventListener('click', () => step(-1));
    next.addEventListener('click', () => step(+1));

    // Auto-scroll (respeita prefers-reduced-motion)
    let timer = null;
    const SPEED_MS = 2800;
    function start(){
      if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;
      if (!timer) timer = setInterval(() => step(+1), SPEED_MS);
    }
    function stop(){ if (timer){ clearInterval(timer); timer = null; } }

    strip.addEventListener('mouseenter', stop);
    strip.addEventListener('mouseleave', start);
    strip.addEventListener('focusin', stop);
    strip.addEventListener('focusout', start);

    // Init
    ensureScrollable();
    start();

    // Revalida no resize
    let rid = null;
    window.addEventListener('resize', () => {
      clearTimeout(rid);
      rid = setTimeout(ensureScrollable, 150);
    });
  });
</script>


